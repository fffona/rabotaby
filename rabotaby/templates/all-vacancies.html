<!-- templates/all-vacancies.html -->
{% extends 'base.html' %}

{% block title %}
Список вакансий
{% endblock %}

{% block body %}
<div class="container">
    <h1>Все доступные вакансии</h1>

    <!-- Форма фильтрации -->
    <div class="filters mb-4">
        <form method="GET" action="/all-vacancies">
            <div class="row">
                <div class="col-md-3">
                    <input type="number" class="form-control" name="min_salary" placeholder="Минимальная зарплата">
                </div>
                <div class="col-md-3">
                    <select class="form-select" name="experience">
                        <option value="">Любой опыт</option>
                        <option value="Нет опыта">Нет опыта</option>
                        <option value="1-3 года">1-3 года</option>
                        <option value="3-6 лет">3-6 лет</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" name="employment_type">
                        <option value="">Любой тип</option>
                        <option value="гибрид">Гибрид</option>
                        <option value="удалённо">Удалённо</option>
                        <option value="на месте">На месте</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <button type="submit" class="btn btn-primary">Фильтровать</button>
                </div>
            </div>
        </form>
    </div>

    <!-- Список вакансий -->
    {% if vacancies|length > 0 %}
        {% for el in vacancies %}
        <div class="alert alert-info">
            <h2>{{ el.name }}</h2>
            <p>Зарплата: {{ el.salary }}</p>
            <p>Компания: {{ el.company }}</p>
            <p>Опыт работы: {{ el.experience }}</p>
            <p>Тип занятости: {{ el.type }}</p>
            <a href="/all-vacancies/{{ el.name }}" class="btn btn-warning">Детальнее</a>
        </div>
        {% endfor %}
    {% else %}
    <p>Нет вакансий, соответствующих фильтрам</p>
    {% endif %}
</div>
{% endblock %}